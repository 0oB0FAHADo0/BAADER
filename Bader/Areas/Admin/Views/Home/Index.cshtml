@using System.Security.Claims
@{
    var fullNameAr = User.FindFirst("FullNameAr")?.Value;
    var userrole = User.FindFirst("Role").Value;
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";

}


<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
</script>

<div class="row">
    <div class="col-md-6">
        <div class="block mb-4">
            <div class="block-header border-bottom mb-3 p-3">
                <h6 class="m-0">احصائيات الجلسات</h6>
            </div>
            <div style="height: 350px;width: 100%;" class="p-3">
                <canvas id="myChart" style="width:100%;max-width:700px"></canvas>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="block mb-4">
            <div class="block-header border-bottom mb-3 p-3">
                <h6 class="m-0">احصائيات المقررات لكل كلية</h6>
            </div>
            <div style="height: 350px;width: 100%;" class="p-3">
                <canvas id="myChart1" style="width:100%;max-width:700px"></canvas>
            </div>
        </div>
    </div>
</div>

<br />
<div class="container row">
    <div class="d-flex flex-wrap gap-5" style="justify-content: center;">
        <!-- Card 1 -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">المستخدمين</h5>
                    <p class="card-text">@ViewBag.UsersCount</p>
                </div>
            </div>
        </div>

        <!-- Card 2 -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">الكليات المستفادة من النظام</h5>
                    <p class="card-text">@ViewBag.AdminCount</p>
                </div>
            </div>
        </div>

        <!-- Card 3 -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">اجمالي المقررات</h5>
                    <p class="card-text">@ViewBag.CourseCount</p>
                </div>
            </div>
        </div>

        <!-- Card 4 -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">اجمالي الجلسات</h5>
                    <p class="card-text">@ViewBag.SessionCount</p>
                </div>
            </div>
        </div>

        <!-- Card 5 -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">الجلسات المتاحة</h5>
                    <p class="card-text">@ViewBag.Open</p>
                </div>
            </div>
        </div>

        <!-- Card 6 -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">الجلسات الغير متاحة</h5>
                    <p class="card-text">@ViewBag.Close</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .card {
        margin: 15px 0;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        transition: 0.3s;
    }

        .card:hover {
            box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
        }

    .card-body {
        text-align: center;
    }
</style>

@* <div class="col-xl-2 col-md-4 col-sm-6">
                            <div class="card text-center">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="avatar bg-rgba-info p-50 m-0 mb-1">
                                            <div class="avatar-content">
                                                <i class="bi bi-person-circle icon-eye text-info font-large-10"></i>
                                            </div>
                                        </div>
                                        <h2 class="text-bold-700">@ViewBag.UsersCount</h2>
                                        <p class="mb-0 line-ellipsis">المستخدمين</p>
                                    </div>
                                </div>
                            </div>
                        </div>
<style>
        -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: rgba(34, 41, 47, 0);
    letter-spacing: 0.01rem;
    --blue: #00CFE8;
    --indigo: #6610F2;
    --purple: #6F42C1;
    --pink: #E83E8C;
    --red: #EA5455;
    --orange: #FF9F43;
    --yellow: #FFC107;
    --green: #28C76F;
    --teal: #20C997;
    --cyan: #0072ff;
    --white: #FFFFFF;
    --gray: #B8C2CC;
    --gray-dark: #1E1E1E;
    --primary: #0072ff;
    --secondary: #B8C2CC;
    --success: #28C76F;
    --info: #00CFE8;
    --warning: #FF9F43;
    --danger: #EA5455;
    --light: #BABFC7;
    --dark: #1E1E1E;
    --breakpoint-xs: 0;
    --breakpoint-sm: 576px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 992px;
    --breakpoint-xl: 1200px;
    --font-family-sans-serif: 'Montserrat', Helvetica, Arial, serif;
    --font-family-monospace: 'Montserrat', Helvetica, Arial, serif;
    --vh: 8.02px;
    font-family: 'Montserrat', Helvetica, Arial, serif;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.45;
    color: #10163A;
    text-align: left;
    direction: ltr;
    box-sizing: border-box;
    position: relative;
    width: 100%;
    padding-right: 14px;
    padding-left: 14px;
</style> *@

@section Scripts {
    @{
        <script>
            const xValues = ["2022", "2024", "2026", "2028", "2030"];
            const yValues = [@ViewBag.Session2022, @ViewBag.Session2024, @ViewBag.Session2026, @ViewBag.Session2028, @ViewBag.Session2030];
            const barColors = ["#004f1a", "#008c4b", "#00588a", "#f1c232", "#92a8d1"];

            new Chart("myChart", {
                type: "bar",
                data: {
                    labels: xValues,
                    datasets: [{
                        backgroundColor: barColors,
                        data: yValues
                    }]
                },
                options: {
                    legend: { display: false },
                    title: {
                        display: true,
                        text: "إحصائيات الجلسات السنوية",
                        fontSize: 30
                    }
                }
            });
            // const xValues1 = @ViewBag.CollegeName;
            // const yValues1 = @ViewBag.CourseList;
            const xValues1 = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.CollegeName));
            const yValues1 = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.CourseList));
            const barColors1 = [
                "#004f1a",  // Dark green
                "#008c4b",  // Lighter green
                "#00588a",  // Dark blue
                "#f1c232",  // Gold/yellow
                "#ffffff",  // White
                "#00573e",  // Forest green
                "#a3c1ad",  // Soft green
                "#92a8d1",  // Light blue
                "#e5e5e5",  // Light grey
                "#1a237e"   // Navy blue
            ];

            new Chart("myChart1", {
                type: "pie",
                data: {
                    labels: xValues1,
                    datasets: [{
                        backgroundColor: barColors1,
                        data: yValues1
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: "توزيع المقررات حسب الكلية",
                                    fontSize: 30
                    },
                    legend: {
                        display: false // This will hide the college names in the legend
                    }
                }
            });
        </script>
        
    }}